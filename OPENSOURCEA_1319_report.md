# 13-19팀 시스템 설계도

#### 팀원 : 남궁민,남동진,남윤호,최영서,최유진,최재완,최제인,김현종

## 주제 : 자율주행

## 서비스 설명

자율주행 서비스란 운전자 또는 승객의 조작 없이 자동차 등의 물체가 스스로 운행이 가능하도록 해주는 서비스를 말한다. 이는 단순히 교통에 국한되는 서비스가 아닌 우리의 일상생활에도 지대한 영향을 끼치는 기술로 만약 무거운 캐리어가 내가 끌지않아도 옆에서 졸졸 따라온다면? 인건비가 걱정인 점주가 자동으로 서빙을 해주는 카트를 사용한다면 ? 이런 예시를 해결해주는것이 자율주행 서비스이다.

해당 서비스는 어느 영역에서는 완전한 자동화를 이루어내지 못했지만 기술에 발전에 따라 무궁무진한 활용처가 예상되는 서비스이다. 자율주행 서비스에 필요한 기술로는 '측위','인지','판단','제어' 에 관련된 기술들이 필요하다.

측위는 차가 도로 위 어디에 위치해 있는지를 계산하는 기술이다. 대중적으로 잘 알려진 GPS를 이용하는 기술이며 인지는 카메라, 레이더 등 정밀 센서로 차량 혹은 주행체의 주변 상황을 감지하는 기술이며 판단은 인지 기술로 취합된 데이터를 분석해 어디로 가야 하는지, 지금 멈춰야 하는지, 신호등 앞에서 어떻게 해야 하는지 등을 결정하는 기술이다. 측위와 인지를 거쳐 판단까지 내렸으면 주행체를 움직이게 하는 하드웨어에 명령을 내리게 되는데, 그게 마지막 기술인 제어이다.

## 유사 서비스 분석

자율주행 서비스는 광범위한 영역에 사용 가능하다. 자율 주행이 가장 기대받는 분야는 자동차와 관련되어 있지만 소소한 분야에서도 많은 활용이 가능하다. 실제로 현재 서비스되는 분야가 실내 음식점의 서빙이다. 술집이나 음식점 등에서 자동으로 움직이는 카트가 정해진 번호의 테이블에 가서 서빙을 해주고 제자리를 찾아가는 것도 자율주행 서비스의 일종이다. 이런 작은 분야의 서비스에도 '경로 설정','장애물 인지' 등의 기술들이 필요하며 이는 다른 자율주행 서비스에도 필수적인 기술들이다.

## Open Source

1. 차선 감지 오픈소스 - 최제인

  * 설명: tensorflow를 사용하여 IEEE IV 회의 논문 "Towards End-to-End Lane Detection: an Instance Segmentation Approach"를 기반으로 실시간 차선 감지를 위한 심층 신경망을 구현 (https://github.com/MaybeShewill-CV/lanenet-lane-detection)
  *license : Apache License Version 2.0, January 2004 (http://www.apache.org/licenses/)

2. 장애물 인지 모듈(apollo) - 최재완

- 설명

  > **바이두의 아폴로 프로젝트**
  >
  > > 아폴로 프로젝트(Apollo Project)는 중국 최대 IT 기업 바이두가 주도하는 중국 최대 자율주행 기술개발과 보완이 가능한 개방형 협력체계 프로젝트이다.
  > >
  > > 현재 이 프로젝트는 현대자동차를 포함해 포드, BMW와 같은 완성차업체와 마이크로소프트를 비롯한 ICT 업체 등 118개의 파트너들이 협력해 완전 자율주행차를 개발하는 것을 목표로 진행되고 있다.
  > >
  > > 출처 : 스마트경제(http://www.dailysmart.co.kr)

  - 사용할 디렉터리 : [apollo/modules/perception/](https://github.com/ApolloAuto/apollo/tree/r5.5.0/modules/perception)
    - 인지 모듈은 여러 카메라, 레이더(전면 및 후면) 및 LiDAR를 사용하여 장애물을 인식하고 개별 트랙을 융합하여 최종 트랙 목록을 얻는 기능을 통합합니다. 장애물 하위 모듈은 장애물을 감지, 분류 및 추적합니다. 이 하위 모듈은 또한 장애물 움직임 및 위치 정보(예: 방향 및 속도)를 예측합니다. 차선의 경우 차선 파싱 픽셀을 후처리하여 차선 인스턴스를 구성하고 자차(L0, L1, R0, R1 등)에 대한 차선 상대 위치를 계산합니다.
      <br>
  - 라이선스
    - apollo 프로젝트는 Apache License 2.0
    - preception 디렉터리는 [readme](https://github.com/ApolloAuto/apollo/blob/r5.5.0/modules/perception/README.md) 파일 하단에 라이선스 고지가 있으나 어떤 라이선스인지는 모르겠음

3. Autoware

  * Autoware는 3차원 맵과 라이더 센서를 이용한 자차 위치 추정, 라이더 또는 카메라 기반 장애물 탐지, 벡터 맵 기반 경로 계획, 경로 추종 등 자율주행 S/W의 핵심 기능들을 제공한다. 
  * 자차 위치 추정은 GPS와 라이다 센서를 함께 사용함으로써 센티미터 수준의 정밀도를 제공한다. 
  * 장애물 탐지는 객체 탐지와 객체 추적으로 구성된다. 자차 주변에 존재하는 장애물들의 위치와 크기를 파악해야만 뒤에서 설명할 주행 상태 기계가 주행을 위해 계획된 후보 궤적들 중에서 어느 궤적을 선택할지 결정할 수 있다.
  * 경로 계획은 전역적 계획과 지역적 계획으로 나뉜다. 전역적 계획은 벡터 맵, 시작 포즈, 목표 포즈를 입력받아 주행 기준이 되는 기준 경로를 계산한다. 지역적 계획은 기준 경로를 입력받아 기준 경로와 평행한 여러 개의 후보 궤적들을 미리 생성하는 것이다.
  * 경로 추종은 경로 계획 모듈이 제공한 최종 궤적을 작은 시간 단위들로 나누어 차량이 안정적으로 추종하기 위한 타겟 속도와 타겟 조향 각속도를 계산한다.

  *  Autoware는 20개 이상의 차량 모델들에 이식 되었고, 30개 이상의 국가들, 100개 이상의 회사들에 의해서 폭넓게 사용되고 있다. 
  * 현재 Autoware 소스코드는 나고야 대학에서 TIER IV라는 회사를 거쳐 Autoware Foundation이라는 비영리 기관으로 이관해서 관리되고 있다. 
  * 이 오픈소스에서 사용되는 라이선스는 Apache License 2.0이다.

4. DBSE-monitor

- 설명: 
- DBSE-monitor는 운전 중에 졸려서 졸음운전을 하거나 딴짓을 할때 경고해주는 시스템이다. 
- Jetson Nano를 이용하여 카메라를 통해 운전자의 상태를 파악하고 졸거나 운전에 집중하지 못하고 산만한 상태일 때 시각 또는 청각 신호를 통해 운전자에게 알린다. 이 시스템은 졸음 감지, 감정 감지, 드라이빙 모니터 모듈로 구성되어 있다.
- 졸음 및 감정 감지 모듈은 운전자의 얼굴 인식을 위해 OpenCV의 Haar Cascades방식을 사용한다. 시스템이 운전자의 얼굴을 감지하면 모듈은 Jetson Nano에서 실행되는 PyTorch 기반 신경망을 통해 운전자의 눈 상태와 감정 상태를 판단한다.

- altaga/DBSE-monitor(https://github.com/altaga/DBSE-monitor)
- 이 오픈소스에서 사용되는 라이선스는 MIT License이다.

5. <소프트웨어 이름>

- 설명:

6. <소프트웨어 이름>

- 설명:

7. <소프트웨어 이름>

- 설명:

8. <소프트웨어 이름>

- 설명:

## DFD
